# Домашнее задание: работа с mdadm
Ссылка на vagrant box - https://app.vagrantup.com/generic/boxes/ubuntu2204/versions/4.3.12/providers/virtualbox/amd64/vagrant.box
Скрипт md.sh создает массив.
### Сочтояние масива
```
vagrant@mdadm:~$ cat /proc/mdstat 
Personalities : [raid10] [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] 
md127 : active raid10 sdb[0] sde[3] sdd[2] sdc[1]
      507904 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]
      
unused devices: <none>
```
```
root@mdadm:/home/vagrant# lsblk
NAME                      MAJ:MIN RM  SIZE RO TYPE   MOUNTPOINTS
loop2                       7:2    0 53.3M  1 loop   
sda                         8:0    0  128G  0 disk   
├─sda1                      8:1    0    1M  0 part   
├─sda2                      8:2    0    2G  0 part   /boot
└─sda3                      8:3    0  126G  0 part   
  └─ubuntu--vg-ubuntu--lv 253:0    0   63G  0 lvm    /
sdb                         8:16   0  250M  0 disk   
└─md127                     9:127  0  496M  0 raid10 
  ├─md127p1               259:1    0   98M  0 part   /mnt/md1
  ├─md127p2               259:3    0   99M  0 part   /mnt/md2
  ├─md127p3               259:4    0  100M  0 part   /mnt/md3
  ├─md127p4               259:5    0   99M  0 part   /mnt/md4
  └─md127p5               259:8    0   98M  0 part   /mnt/md5
sdc                         8:32   0  250M  0 disk   
└─md127                     9:127  0  496M  0 raid10 
  ├─md127p1               259:1    0   98M  0 part   /mnt/md1
  ├─md127p2               259:3    0   99M  0 part   /mnt/md2
  ├─md127p3               259:4    0  100M  0 part   /mnt/md3
  ├─md127p4               259:5    0   99M  0 part   /mnt/md4
  └─md127p5               259:8    0   98M  0 part   /mnt/md5
sdd                         8:48   0  250M  0 disk   
└─md127                     9:127  0  496M  0 raid10 
  ├─md127p1               259:1    0   98M  0 part   /mnt/md1
  ├─md127p2               259:3    0   99M  0 part   /mnt/md2
  ├─md127p3               259:4    0  100M  0 part   /mnt/md3
  ├─md127p4               259:5    0   99M  0 part   /mnt/md4
  └─md127p5               259:8    0   98M  0 part   /mnt/md5
sde                         8:64   0  250M  0 disk   
└─md127                     9:127  0  496M  0 raid10 
  ├─md127p1               259:1    0   98M  0 part   /mnt/md1
  ├─md127p2               259:3    0   99M  0 part   /mnt/md2
  ├─md127p3               259:4    0  100M  0 part   /mnt/md3
  ├─md127p4               259:5    0   99M  0 part   /mnt/md4
  └─md127p5               259:8    0   98M  0 part   /mnt/md5
sdf                         8:80   0  250M  0 disk   
```
```
root@mdadm:/home/vagrant# df -h
Filesystem                         Size  Used Avail Use% Mounted on
tmpfs                              197M  972K  196M   1% /run
/dev/mapper/ubuntu--vg-ubuntu--lv   62G  5.0G   54G   9% /
tmpfs                              982M     0  982M   0% /dev/shm
tmpfs                              5.0M     0  5.0M   0% /run/lock
/dev/sda2                          2.0G  234M  1.6G  13% /boot
tmpfs                              197M  4.0K  197M   1% /run/user/1000
/dev/md127p1                        88M   24K   81M   1% /mnt/md1
/dev/md127p2                        89M   24K   82M   1% /mnt/md2
/dev/md127p3                        90M   24K   83M   1% /mnt/md3
/dev/md127p4                        89M   24K   82M   1% /mnt/md4
/dev/md127p5                        88M   24K   81M   1% /mnt/md5
```
```
vagrant@mdadm:~$ cat /etc/mdadm/mdadm.conf 
DEVICE partitions
ARRAY /dev/md127 level=raid10 num-devices=4 metadata=1.2 name=mdadm:127 UUID=41557c82:a4a4cadf:07869725:148e2e90
```
```
vagrant@mdadm:~$ cat /etc/fstab 
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/ubuntu-vg/ubuntu-lv during curtin installation
/dev/disk/by-id/dm-uuid-LVM-Jmvz2VciZHoChGPtTlFvr6Yh4aU13UY3oP3CvPJI9d8yWARQF51QbgDpPCi0PNJx / ext4 defaults 0 1
# /boot was on /dev/sda2 during curtin installation
/dev/disk/by-uuid/da3abab5-0da8-40d6-bac7-fa94844ca836 /boot ext4 defaults 0 1
/swap.img	none	swap	sw	0	0
#VAGRANT-BEGIN
# The contents below are automatically generated by Vagrant. Do not modify.
#VAGRANT-END
UUID=07d662f5-6af2-493b-bde6-ffb6d919fe71 /mnt/md1 ext4 defaults 0 0
UUID=d5b09e83-5bb9-477f-b77f-0afa604ba847 /mnt/md2 ext4 defaults 0 0
UUID=631c5115-9089-454c-a918-786e7ce09c07 /mnt/md3 ext4 defaults 0 0
UUID=0abffbe6-4276-42c4-a0f2-ff1552ecae90 /mnt/md4 ext4 defaults 0 0
UUID=8b64b08b-133b-4d45-b760-ce466c0d802c /mnt/md5 ext4 defaults 0 0
```
